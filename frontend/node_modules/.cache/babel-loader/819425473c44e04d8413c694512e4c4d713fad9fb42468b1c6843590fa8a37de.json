{"ast":null,"code":"var _jsxFileName = \"/Users/amira/Desktop/js/cms/frontend/src/Components/Addnewproduct/Addnewproduct.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddNewProduct({\n  onProductAdded\n}) {\n  _s();\n  const [newProduct, setNewProduct] = useState({\n    title: \"\",\n    price: \"\",\n    count: \"\",\n    img: \"\",\n    popularity: \"\",\n    sale: \"\",\n    colors: \"\"\n  });\n  const [loading, setLoading] = useState(false); // افزودن لودر برای تجربه بهتر\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setNewProduct({\n      ...newProduct,\n      [name]: [\"price\", \"count\", \"popularity\", \"sale\", \"colors\"].includes(name) ? Number(value) || 0 // تبدیل مقدار به عدد\n      : value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      console.log(\"Sending Product:\", newProduct); // بررسی مقدار قبل از ارسال\n\n      const response = await axios.post(\"http://localhost:3000/api/products\", newProduct, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      console.log(\"Response:\", response.data); // بررسی پاسخ سرور\n\n      if (response.status === 201) {\n        onProductAdded(response.data);\n        setNewProduct({\n          title: \"\",\n          price: \"\",\n          count: \"\",\n          img: \"\",\n          popularity: \"\",\n          sale: \"\",\n          colors: \"\"\n        });\n      } else {\n        console.error(\"خطای غیرمنتظره:\", response.status, response.data);\n      }\n    } catch (error) {\n      console.error(\"خطا در افزودن محصول:\", error.response ? error.response.data : error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"products-main bg-white shadow-lg rounded-2xl p-6 w-full max-w-lg mx-auto mt-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"product-title text-xl font-semibold text-gray-800 text-center mb-4\",\n      children: \"\\u0627\\u0641\\u0632\\u0648\\u062F\\u0646 \\u0645\\u062D\\u0635\\u0648\\u0644 \\u062C\\u062F\\u06CC\\u062F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"add-products-form space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n        children: [{\n          name: \"title\",\n          placeholder: \"اسم محصول\",\n          type: \"text\"\n        }, {\n          name: \"price\",\n          placeholder: \"قیمت محصول\",\n          type: \"number\"\n        }, {\n          name: \"count\",\n          placeholder: \"موجودی محصول\",\n          type: \"number\"\n        }, {\n          name: \"img\",\n          placeholder: \"آدرس عکس محصول\",\n          type: \"text\"\n        }, {\n          name: \"popularity\",\n          placeholder: \"میزان محبوبیت محصول\",\n          type: \"number\"\n        }, {\n          name: \"sale\",\n          placeholder: \"میزان فروش محصول\",\n          type: \"number\"\n        }, {\n          name: \"colors\",\n          placeholder: \"تعداد رنگ محصول\",\n          type: \"number\",\n          fullWidth: true\n        }].map(({\n          name,\n          placeholder,\n          type,\n          fullWidth\n        }) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `add-products-form-wrap ${fullWidth ? \"md:col-span-2\" : \"\"}`,\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: type,\n            name: name,\n            value: newProduct[name],\n            onChange: handleChange,\n            placeholder: `${placeholder} را وارد کنید`,\n            className: \"add-products-input w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this)\n        }, name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"w-full bg-gray-900 text-white py-2 rounded-lg hover:bg-blue-700 transition-all\",\n        disabled: loading,\n        children: loading ? \"در حال افزودن...\" : \"افزودن محصول\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(AddNewProduct, \"V5GUchS7Bo12hBk9lTg1063lroE=\");\n_c = AddNewProduct;\nvar _c;\n$RefreshReg$(_c, \"AddNewProduct\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","AddNewProduct","onProductAdded","_s","newProduct","setNewProduct","title","price","count","img","popularity","sale","colors","loading","setLoading","handleChange","e","name","value","target","includes","Number","handleSubmit","preventDefault","console","log","response","post","headers","data","status","error","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","placeholder","type","fullWidth","map","onChange","required","disabled","_c","$RefreshReg$"],"sources":["/Users/amira/Desktop/js/cms/frontend/src/Components/Addnewproduct/Addnewproduct.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nexport default function AddNewProduct({ onProductAdded }) {\n  const [newProduct, setNewProduct] = useState({\n    title: \"\",\n    price: \"\",\n    count: \"\",\n    img: \"\",\n    popularity: \"\",\n    sale: \"\",\n    colors: \"\",\n  });\n\n  const [loading, setLoading] = useState(false); // افزودن لودر برای تجربه بهتر\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setNewProduct({\n      ...newProduct,\n      [name]: [\"price\", \"count\", \"popularity\", \"sale\", \"colors\"].includes(name)\n        ? Number(value) || 0 // تبدیل مقدار به عدد\n        : value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      console.log(\"Sending Product:\", newProduct); // بررسی مقدار قبل از ارسال\n\n      const response = await axios.post(\"http://localhost:3000/api/products\", newProduct, {\n        headers: { \"Content-Type\": \"application/json\" },\n      });\n\n      console.log(\"Response:\", response.data); // بررسی پاسخ سرور\n\n      if (response.status === 201) {\n        onProductAdded(response.data);\n        setNewProduct({\n          title: \"\",\n          price: \"\",\n          count: \"\",\n          img: \"\",\n          popularity: \"\",\n          sale: \"\",\n          colors: \"\",\n        });\n      } else {\n        console.error(\"خطای غیرمنتظره:\", response.status, response.data);\n      }\n    } catch (error) {\n      console.error(\"خطا در افزودن محصول:\", error.response ? error.response.data : error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"products-main bg-white shadow-lg rounded-2xl p-6 w-full max-w-lg mx-auto mt-6\">\n      <h1 className=\"product-title text-xl font-semibold text-gray-800 text-center mb-4\">افزودن محصول جدید</h1>\n      <form onSubmit={handleSubmit} className=\"add-products-form space-y-4\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {[\n            { name: \"title\", placeholder: \"اسم محصول\", type: \"text\" },\n            { name: \"price\", placeholder: \"قیمت محصول\", type: \"number\" },\n            { name: \"count\", placeholder: \"موجودی محصول\", type: \"number\" },\n            { name: \"img\", placeholder: \"آدرس عکس محصول\", type: \"text\" },\n            { name: \"popularity\", placeholder: \"میزان محبوبیت محصول\", type: \"number\" },\n            { name: \"sale\", placeholder: \"میزان فروش محصول\", type: \"number\" },\n            { name: \"colors\", placeholder: \"تعداد رنگ محصول\", type: \"number\", fullWidth: true },\n          ].map(({ name, placeholder, type, fullWidth }) => (\n            <div key={name} className={`add-products-form-wrap ${fullWidth ? \"md:col-span-2\" : \"\"}`}>\n              <input\n                type={type}\n                name={name}\n                value={newProduct[name]}\n                onChange={handleChange}\n                placeholder={`${placeholder} را وارد کنید`}\n                className=\"add-products-input w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                required\n              />\n            </div>\n          ))}\n        </div>\n        <button\n          type=\"submit\"\n          className=\"w-full bg-gray-900 text-white py-2 rounded-lg hover:bg-blue-700 transition-all\"\n          disabled={loading}\n        >\n          {loading ? \"در حال افزودن...\" : \"افزودن محصول\"}\n        </button>\n      </form>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}